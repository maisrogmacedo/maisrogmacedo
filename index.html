<!DOCTYPE html>
<html lang="pt-BR">

<head>
    
    <link rel="icon" href="https://github.com/maisrogmacedo/maisrogmacedo/raw/refs/heads/main/icon.ico" type="image/x-icon">


  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>+Rogmacedo</title>
  <link href="https://fonts.googleapis.com/css2?family=Arimo&display=swap" rel="stylesheet">
  <style>
  
  * {
  transition: all 0.2s ease-in-out;
}
  
  
    /* Reset simples */
    *{box-sizing:border-box}
    body{margin:0;font-family:'Arimo',sans-serif;background:#fff;color:#111;line-height:1.45}

    /* Cabeçalho - paleta: #dbdbdb (header/footer), rgb(0,208,130) links */
    header{background:#f2f2f2;padding:22px 16px;text-align:center}
    .site-title{font-size:2.6rem;font-weight:normal;margin:0;color:#000}
    .site-sub{font-size:0.9rem;color:#333;margin-top:6px}

    /* Menu estilo Berliner (discreto) */
    nav{background:#f2f2f2;border-top:1px solid rgba(0,0,0,0.04);border-bottom:1px solid rgba(0,0,0,0.04)}
    .menu{max-width:1200px;margin:0 auto;padding:8px 12px;display:flex;justify-content:center;align-items:center}
    .menu-left{display:flex;gap:12px;align-items:center}
    .menu-left a{color:#000;text-decoration:none;font-weight:700;padding:6px 8px}
    .menu-left a:hover{color:rgba(43,143,145,255); text-decoration: underline;}

    /* botão hamburguer para mobile */
    .hamburger{display:none;background:transparent;border:0;font-size:1.3rem}

    /* Layout principal: grid inspirado em Berliner */
    main{max-width:1200px;margin:20px auto;padding:0 12px;display:grid;grid-template-columns:1fr 340px;gap:24px}


 /* Destaque */
     .destaque a {
  color: rgba(43,143,145,255);
  text-decoration: none; /* tira o sublinhado normal */
  font-weight: 700; /* para manter o negrito */
}

.destaque a:hover {
  color: rgba(43,143,145,255);
  text-decoration: underline;
  font-weight: 800;
}




    /* Manchete principal (hero) */
    .manchete{background:#f3f3f3;padding:20px;border-left:8px solid rgba(43,143,145,255);min-height:260px;display:flex;flex-direction:column;justify-content:center}
    
    .manchete .titulo{font-size:2.2rem;line-height:1.05;margin-bottom:12px;font-weight:800;color:#000;text-decoration:none;}
    .manchete a:hover{font-size:2.2rem;line-height:1.05;margin-bottom:12px;font-weight:800;color:#000;text-decoration:underline;}
    
    .manchete .thumb{width:100%;max-height:320px;object-fit:cover;margin:10px 0;border:1px solid #e6e6e6}
    .manchete .resumo{color:#333;font-size:1rem;max-width:100%;margin-top:6px}

    /* Coluna direita com edições rápidas e listas */
    .sidebar{display:flex;flex-direction:column;gap:18px}
    .box{background:#f9f9f9;padding:14px;border-left:6px solid rgba(43,143,145,255);min-height:120px}
    .box h3{margin:0 0 20px 0;font-size:1.05rem}
    .lista-noticias{display:flex;flex-direction:column;gap:20px}
    .lista-noticias a{color:#000;text-decoration:none;font-weight:700}
    .lista-noticias a:hover{color:rgba(43,143,145,255);}
    .nota{color:#555;font-size:0.9rem}
    
    .maisrogmacedo-links a{text-decoration:none;color:rgba(43,143,145,255);font-weight:700}
    .maisrogmacedo-links a:hover{color:rgba(43,143,145,255); text-decoration: underline;}




    /* Área de artigos (coluna principal) com grid de blocos no estilo coluna de jornal */
    
    .conteudo{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
    
    /* Faz .conteudo ocupar as duas colunas do grid do main */
main .conteudo {
  grid-column: 1 / -1; /* inicia na primeira linha de grade e termina na última */
  width: 100%;
  display: grid; /* mantém comportamento de grid para os cards internos */
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* colunas responsivas */
  gap: 18px;
}

    
    .card{background:#fff;padding:14px;border: none; 
  border-left:1px solid #eee;min-height:140px}
  
  
   .card h3{margin:0 0 8px 0;font-size:1.05rem; margin-bottom: 20px; text-decoration:underline;color:rgba(43,143,145,255);}
    .card h3:hover{color:rgba(43,143,145,255); text-decoration: underline;}
    
  
  
    .card h4{margin:0 0 8px 0;font-size:1.05rem; margin-bottom: 20px; text-decoration:none;color:rgba(43,143,145,255);}
    .card h4:hover{color:rgba(43,143,145,255); text-decoration: underline;}
    
    
    .card a{color:#000;text-decoration:none;font-weight:700}
    .card a:hover{color:rgba(43,143,145,255)}
    .card p{color:#444;font-size:0.95rem}
    
    
    

    footer-meio{padding:20px;margin-top:28px}




    /* Rodapé */
    footer{background:#f2f2f2;padding:20px;margin-top:28px}
    
    .footer-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 15px;
}
    
    .footer-links{display:flex;gap:12px;flex-wrap:wrap}
    .footer-links a{text-decoration:none;color:rgba(43,143,145,255);font-weight:700}
    .footer-links a:hover{color:rgba(43,143,145,255); text-decoration: underline;}
    
    .footer-separator {
  width:100%; 
  border-top:1px solid #dbdbdb; /* linha cinza clara */
  margin:15px 0; /* espaço superior e inferior */
}
    
    
   .copyright {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  font-weight: 700;
  color: #000;
}

#toTop {
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  text-decoration: underline;
}

#toTop:hover {
  text-decoration: underline;
}

@media (max-width: 600px) {
  .copyright {
    align-items: flex-start;
    gap: 6px;
  }
}



    /* pequenas otimizações visuais para leitura no desktop (Berliner-esque) */
    .manchete .meta{color:#666;font-size:0.85rem;margin-top:6px}
    
    
    

    /* Responsive: adaptar para mobile com uma coluna (manchete em topo) */
  @media (max-width: 900px){
      main{grid-template-columns:1fr;padding:0 10px}
      .conteudo{grid-template-columns:1fr}
      .manchete{min-height:200px;padding:16px}
      .manchete .titulo{font-size:1.6rem}
      
      
      .menu {
    flex-direction: column;  /* empilha botão e menu */
    align-items: center;     /* centraliza tudo */
  }
  
      .hamburger{display: inline-block;  cursor: pointer;}
      
      
   .menu-left {
  max-height: 0;        /* começa fechado */
  overflow: hidden;     /* esconde o que passa do max-height */
  transition: max-height 0.5s ease; /* anima max-height */
  flex-direction: column;
  width: 100%;
  padding: 0 10px;
  
}

/* Quando abrir, aumenta max-height — deve ser um valor que cubra todo o conteúdo */
.menu-left.show {
  max-height: 500px; /* ajuste conforme o tamanho do seu menu */
}



    }

    @media (max-width:480px){
      .manchete .titulo{font-size:1.4rem}
      .manchete .resumo{font-size:0.95rem}
    }
    
    
    
    
    @media (max-width: 600px) {
  .footer-links {
    flex-direction:column; /* empilha os links no mobile */
    gap:11px; /* espaço menor entre eles */
  }
}
    
    
    
    
   /* container do dropdown */
.dropdown {
  position: relative;
}

.dropdown > a {
  cursor: pointer;
}

/* submenu escondido por padrão */
 .submenu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: #f2f2f2;
  list-style: none;
  padding: 8px 0;
  margin: 0;
  border: 1px solid #ccc;
  
 min-width: 100%;    /* começa com a largura do pai */
width: auto;        /* expande conforme o conteúdo */
white-space: nowrap;
}

.submenu li a {
  display: block;
  padding: 8px 14px;
  color: #000;
  text-decoration: none;
}

.submenu li a:hover {
  text-decoration: rgba(43,143,145,0.1); 
  text-decoration: underline;;
}

/* quando hover no desktop */
@media (min-width: 901px) {
  .dropdown:hover .submenu {
    display: block;
  }
}

 
    


/* Link do dropdown centralizado */
.dropdown > a {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  gap: 6px; /* espaço entre texto e ▾ */
  width: 100%; /* para ocupar toda largura do pai */
  text-align: center;
  padding: 8px 0;
}

/* Submenu no mobile */
@media (max-width: 900px) {




  /* ======= Ajustes específicos para o menu mobile ======= */

/* Garante que cada item (link simples e dropdown) ocupe toda a largura */
.menu-left, 
.menu-left > * {
  width: 100%;
  box-sizing: border-box;
}

/* Torna todos os links do menu (incluindo o link do dropdown) blocos com o mesmo padding */
.menu-left > a,
.menu-left > .dropdown > a {
  display: block;          /* ocupa a linha inteira */
  width: 100%;
  padding: 12px 14px;      /* mesmo espaçamento vertical/horizontal para todos */
  margin: 0;
  text-align: center;
  font-weight: 700;
  line-height: 1.2;        /* mantém altura consistente */
  text-decoration: none;
  color: inherit;
  border-bottom: 1px solid #dbdbdb; /* opcional: separador visual uniforme */
}

/* Remove padding/margens do container do dropdown para não criar espaços extras */
.menu-left > .dropdown {
  padding: 0;
  margin: 0;
}

/* Submenu em mobile: remove padding que pode criar espaço; controlar max-height */
.menu-left .submenu {
  padding: 0;              /* IMPORTANT: evita "ar extra" do submenu quando fechado */
  margin: 0;
  max-height: 0;           /* fechado por padrão */
  overflow: hidden;
  transition: max-height 0.45s ease;
  list-style: none;
}

/* Quando aberto (sua classe .open) define altura grande o suficiente */
.menu-left .submenu.open {
  max-height: 500px;       /* valor suficiente para o conteúdo — ajuste se necessário */
}

/* Opcional: estiliza os itens do submenu para ficar igual ao resto do menu */
.menu-left .submenu li a {
  display: block;
  padding: 10px 12px;
  border-bottom: 1px solid #eee;
}


.menu-left > a:hover,
.menu-left > .dropdown > a:hover {
  color:rgba(43,143,145,255); text-decoration: underline;
}


.menu-left > a:last-child,
  .menu-left > .dropdown:last-child > a {
    border-bottom: none;
  }



  .submenu {
    position: static !important;
    border: none;
    box-shadow: none;
    padding-left: 0;
    margin-top: 0px; /* mais perto do link */
    list-style: none;
    text-align: center;

    display: block !important;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease;
  }

  .submenu.open {
    max-height: 500px; /* valor grande o suficiente para o conteúdo */
  }
}


  .submenu li {
    margin-bottom: 0;
    border-bottom: 1px solid #dbdbdb; /* linha fina igual ao site */
    padding: 6px 0; /* espaço interno pra não ficar apertado */
  }


 /* Remove a linha da última li pra ficar mais limpo */
  .submenu li:last-child {
    border-bottom: none;
  }
  

  .submenu li a {
    display: inline-block;
    padding: 4px 8px;
    color: #000;
    text-decoration: none;
    font-weight: 600;
  }

  .submenu li a:hover {
    color: rgba(43,143,145,1);
    text-decoration: underline;
  }
  
  .menu-left .submenu li a {
  font-weight: normal !important;
}

}


    

   
    
    
    
    
    
    
  </style>
</head>
<body>
  <header>
    <div class="site-title">+Rogmacedo</div>
    <div class="site-sub"></div>
  </header>

  <nav>
    <div class="menu">
          <button class="hamburger" aria-expanded="false" aria-label="Abrir menu">☰</button>
      <div class="menu-left" role="navigation" aria-label="Menu principal">
   
         
      <div class="dropdown">
        <a href="#">Política ▾</a>
        <ul class="submenu">
          <li><a href="https://www.noticiasaominuto.com.br/politica">Política ao Minuto</a></li>
          <li><a href="https://www.poder360.com.br/">Poder360</a></li>
          <li><a href="https://www.conexaopolitica.com.br/">Conexão Política</a></li>
          <li><a href="https://maisrogmacedo.wordpress.com/category/politica/">+Política</a></li>
        </ul>
      </div>
        
        <a href="#">Economia</a>
        <a href="#">Cultura</a>
        <a href="#">Esportes</a>
      </div>
    </div>
  </nav>



  <br><h1><center>
   <div class="destaque" id="destaque-list">
          <span class="carregando-destaque"></span>
        </div>
  </center></h1><br>



  <main>
    <!-- coluna principal -->
    <section aria-labelledby="manchete" class="manchete" id="manchete">
      <span class="carregando-manchete" aria-live="polite">Carregando...</span>
    </section>

    <!-- coluna lateral direita -->
    
    <aside class="sidebar">
      <div class="box" id="box-ultimas">
        <h3></h3>
        <div class="lista-noticias" id="ultimas-list1">
          <span class="carregando-ultimas01">Carregando...</span>
          </div>
          <br>
        <div class="lista-noticias" id="ultimas-list2">
          <span class="carregando-ultimas02"></span>
          </div>
          <br>
          <div class="lista-noticias" id="ultimas-list3">
          <span class="carregando-ultimas03"></span>
          </div>
          <br>
          <div class="lista-noticias" id="ultimas-list4">
          <span class="carregando-ultimas04"></span>
        </div>
      </div>

      <div class="box" id="box-mais-rogmacedo">
      <div class="maisrogmacedo-links">
        <a href="https://maisrogmacedo.wordpress.com/posts/"><h3>+Rogmacedo</h3></a>
        </div>
        <div class="lista-noticias" id="maisrogmacedo-list">
          <span class="carregando-maisrogmacedo">Carregando...</span>
        </div>
      </div>
    </aside>
      </main>

         <footer-meio>
             <div class="footer-inner">
       <div class="footer-separator"></div>
              </div>
        </footer-meio>

 <!-- abaixo da manchete: grid de editorias no estilo Berliner -->
    
          <main>

    <section class="conteudo" aria-live="polite">
    
      <article class="card" id="card-politica">
      <a href="https://www.noticiasaominuto.com.br/politica">
        <h3>Política</h3>
        </a>
        <div class="card-list" id="politica-list">
          <span class="carregando-politica">Carregando...</span>
        </div>
      </article>

       <article class="card" id="card-esportes">
          <a href="https://www.noticiasaominuto.com.br/esporte">
        <h3>Esportes</h3>
        </a>
        <div class="card-list" id="esportes-list">
          <span class="carregando-esportes">Carregando...</span>
        </div>
      </article>

      <article class="card" id="card-mundo">
          <a href="https://www.noticiasaominuto.com/mundo">
        <h3>Mundo</h3>
        </a>
        <div class="card-list" id="mundo-list">
          <span class="carregando-mundo">Carregando...</span>
        </div>
          <a href="https://maisrogmacedo.wordpress.com/mundo/">
        <h4>+Mundo</h4>
        </a>
      </article>
      
    </section>
          </main>

    <br>
    

  <footer>
  
    <div class="footer-inner">
      <div class="footer-links">
      
        <a href="https://www.facebook.com/rogmacedo">Facebook</a>
        <a href="https://www.threads.net/@rogmacedo">Threads</a>
        <a href="https://maisrogmacedo.wordpress.com/twitter">Twitter/X</a>
        <a href="https://maisrogmacedo.wordpress.com/youtube/">YouTube</a>
        <a href="https://ralphafm.blogspot.com.br/">Alpha FM</a>
        <a href="https://rkiis.blogspot.com.br/">KIIS FM</a>
        <a href="https://rdmpb.blogspot.com/">Rádio MPB</a>

      </div>
      </div>
      
      <div class="footer-separator"></div>
      
       <div class="footer-inner">
       <div class="copyright">
      <span>© 2025 +Rogmacedo</span>
      <button id="toTop" aria-label="Voltar ao topo" title="Voltar ao topo">To the top ↑</button>
    </div>
  </div>
  
  </footer>

    <!--
  <script> 
    /* Helpers */
    function stripHtml(html){
      const tmp = document.createElement('div');
      tmp.innerHTML = html || '';
      return tmp.textContent || tmp.innerText || '';
    }
    function truncate(text, n){
      if(!text) return '';
      return text.length > n ? text.slice(0,n).trim() + '…' : text;
    }

    // Feeds de exemplo (troque pelos seus)
    const FEEDS = {
      manchete: 'https://jovempan.com.br/feed',
      ultimas01: 'https://gazetabrasil.com.br/feed',
      ultimas02: 'https://www.poder360.com.br/feed',
      ultimas03: 'https://www.conexaopolitica.com.br/feed',
      ultimas04: 'https://ultimosegundo.ig.com.br/rss',
      maisrogmacedo: 'https://maisrogmacedo.wordpress.com/feed',
      politica: 'https://www.noticiasaominuto.com.br/rss/politica',
      esportes: 'https://www.noticiasaominuto.com.br/rss/esporte', 
      mundo: 'https://www.noticiasaominuto.com/rss/mundo',
      destaque: 'https://maisrogmacedo.wordpress.com/tag/destaque/feed',
    };



    /*  
    async function fetchJson(rssUrl){
      const url = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;
      const res = await fetch(url);
      if(!res.ok) throw new Error('fetch-fail');
      return await res.json();
    }
    */
      

      let ultimoTituloPorFeed = {};

async function fetchJson(rssUrl) {
  const apis = [
    `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`,
    `https://feedrapp.info/api/v1/rss?rss_url=${encodeURIComponent(rssUrl)}`
  ];

  for (let apiUrl of apis) {
    try {
      const res = await fetch(apiUrl);
      if (!res.ok) throw new Error(`Falha na API: ${apiUrl}`);
      const data = await res.json();

      // Normaliza o formato para { items: [...] }
      const items = data.items || data.entries || [];
      if (items.length > 0) {
        // Só retorna se tiver notícia nova
        const tituloNovo = items[0].title;
        if (ultimoTituloPorFeed[rssUrl] !== tituloNovo) {
          ultimoTituloPorFeed[rssUrl] = tituloNovo;
          return { items };
        } else {
          console.log(`Sem novidades para ${rssUrl}`);
          return { items: [] };
        }
      }
    } catch (err) {
      console.warn(`Erro ao tentar ${apiUrl}`, err);
    }
  }

  // Se nenhuma API responder
  return { items: [] };
}


      





      

    async function loadManchete(){
      const container = document.getElementById('manchete');
      const loading = container.querySelector('.carregando-manchete') || null;
      if(loading) loading.style.display = 'inline';
      try{
        const data = await fetchJson(FEEDS.manchete);
        if(!data.items || data.items.length === 0){ container.innerHTML = ''; return; }
        const item = data.items[0];
        const title = stripHtml(item.title);
        const resumo = truncate(stripHtml(item.description), 200); // resumo curto
        let html = `\n          <a class="titulo" href="${item.link}">${title}</a>`;
        if(item.thumbnail) html += `\n          <img src="${item.thumbnail}" alt="${title}" class="thumb">`;
        if(resumo) html += `\n          <div class="resumo">${resumo}</div>`;
        container.innerHTML = html;
      }catch(e){
        container.innerHTML = ''; // silencioso
      }
    }

    async function loadList(feedKey, containerId, max=4){
      const container = document.getElementById(containerId);
      const loading = container.querySelector('.carregando-' + containerId.split('-')[0]) || null;
      if(loading) loading.style.display = 'inline';
      try{
        const data = await fetchJson(FEEDS[feedKey]);
        if(!data.items || data.items.length === 0){ container.innerHTML = ''; return; }
        container.innerHTML = '';
        const items = data.items.slice(0,max);
        items.forEach(it =>{
          const title = stripHtml(it.title);
          const el = document.createElement('div');
          el.innerHTML = `<a href="${it.link}" class="titulo-mini">${title}</a>`;
          container.appendChild(el);
        });
      }catch(e){ container.innerHTML = ''; }
    }

    async function loadCards(feedKey, containerId, max=4){
      const container = document.getElementById(containerId + '-list');
      const loading = container.querySelector('.carregando-' + containerId.split('-')[1]) || null;
      if(loading) loading.style.display = 'inline';
      try{
        const data = await fetchJson(FEEDS[feedKey]);
        if(!data.items || data.items.length === 0){ container.innerHTML = ''; return; }
        container.innerHTML = '';
        const items = data.items.slice(0,max);
        items.forEach(it =>{
          const title = stripHtml(it.title);
          const resumo = truncate(stripHtml(it.description), 0);
          const div = document.createElement('div');
          div.innerHTML = `<a href="${it.link}">${title}</a><p class="nota"></p>`;
          container.appendChild(div);
        });
      }catch(e){ container.innerHTML = ''; }
    }

    /* Carrega tudo */
    function carregarTudo(){
      loadManchete();
      loadList('ultimas01','ultimas-list1',1);
      loadList('ultimas02','ultimas-list2',1);
      loadList('ultimas03','ultimas-list3',1);
      loadList('ultimas04','ultimas-list4',1);
      loadList('maisrogmacedo','maisrogmacedo-list',4);
      loadCards('politica','politica',4);
      loadCards('esportes','esportes',4);
      loadCards('mundo','mundo',4);
      loadCards('destaque','destaque',1);

    }

    carregarTudo();
    // Atualiza a cada  minutos
    setInterval(carregarTudo, 2*60*1000);

-->
    <script>
/* Helpers */
function stripHtml(html){
  const tmp = document.createElement('div');
  tmp.innerHTML = html || '';
  return tmp.textContent || tmp.innerText || '';
}

function truncate(text, n){
  if(!text) return '';
  return text.length > n ? text.slice(0,n).trim() + '…' : text;
}

// Feeds de exemplo
const FEEDS = {
  manchete: 'https://jovempan.com.br/feed',
  ultimas01: 'https://gazetabrasil.com.br/feed',
  ultimas02: 'https://www.poder360.com.br/feed',
  ultimas03: 'https://www.conexaopolitica.com.br/feed',
  ultimas04: 'https://ultimosegundo.ig.com.br/rss',
  maisrogmacedo: 'https://maisrogmacedo.wordpress.com/feed',
  politica: 'https://www.noticiasaominuto.com.br/rss/politica',
  esportes: 'https://www.noticiasaominuto.com.br/rss/esporte', 
  mundo: 'https://www.noticiasaominuto.com/rss/mundo',
  destaque: 'https://maisrogmacedo.wordpress.com/tag/destaque/feed',
};



   /*     
let ultimoTituloPorFeed = {};

async function fetchJson(rssUrl) {
  const apis = [
    `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`,
    `https://feedrapp.info/api/v1/rss?rss_url=${encodeURIComponent(rssUrl)}`
  ];

  for (let apiUrl of apis) {
    try {
      const res = await fetch(apiUrl);
      if (!res.ok) throw new Error(`Falha na API: ${apiUrl}`);
      const data = await res.json();

      // Normaliza o formato
      const items = data.items || data.entries || [];
      if (items.length > 0) {
        const tituloNovo = items[0].title;
        if (ultimoTituloPorFeed[rssUrl] !== tituloNovo) {
          ultimoTituloPorFeed[rssUrl] = tituloNovo;
          return { items }; // notícia nova → atualiza
        } else {
          console.log(`Sem novidades para ${rssUrl}`);
          return null; // mantém o que já está
        }
      }
    } catch (err) {
      console.warn(`Erro ao tentar ${apiUrl}`, err);
    }
  }

  return null; // mantém conteúdo se nenhuma API respondeu
}

*/ 

let ultimoTituloPorFeed = {};
let ultimoConteudoPorFeed = {};
let ultimaDataPorFeed = {};

async function fetchJson(rssUrl) {
  const apis = [
    `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}&_=${Date.now()}`,
    `https://feedrapp.info/api/v1/rss?rss_url=${encodeURIComponent(rssUrl)}&_=${Date.now()}`
  ];

  for (let apiUrl of apis) {
    try {
      const res = await fetch(apiUrl);
      if (!res.ok) throw new Error(`Falha na API: ${apiUrl}`);
      const data = await res.json();

      // Normaliza o formato
      const items = data.items || data.entries || [];
      if (items.length > 0) {
        const tituloNovo = items[0].title;
        const dataNova = items[0].pubDate || items[0].published || null;

        // Checa se mudou título ou data
        const mudouTitulo = ultimoTituloPorFeed[rssUrl] !== tituloNovo;
        const mudouData = ultimaDataPorFeed[rssUrl] !== dataNova;

        if (mudouTitulo || mudouData) {
          ultimoTituloPorFeed[rssUrl] = tituloNovo;
          ultimaDataPorFeed[rssUrl] = dataNova;
          ultimoConteudoPorFeed[rssUrl] = { items }; // salva novo conteúdo
          return { items };
        } else {
          console.log(`Sem novidades para ${rssUrl}`);
          return ultimoConteudoPorFeed[rssUrl] || null; // retorna conteúdo antigo
        }
      }
    } catch (err) {
      console.warn(`Erro ao tentar ${apiUrl}`, err);
    }
  }

  // Nenhuma API respondeu → retorna conteúdo antigo se tiver
  return ultimoConteudoPorFeed[rssUrl] || null;
}


        


        
/* Funções de carregamento */
async function loadManchete(){
  const container = document.getElementById('manchete');
  const loading = container.querySelector('.carregando-manchete') || null;
  if(loading) loading.style.display = 'inline';
  try{
    const data = await fetchJson(FEEDS.manchete);
    if(!data) return; // mantém conteúdo
    const item = data.items[0];
    const title = stripHtml(item.title);
    const resumo = truncate(stripHtml(item.description), 200);
    let html = `<a class="titulo" href="${item.link}">${title}</a>`;
    if(item.thumbnail) html += `<img src="${item.thumbnail}" alt="${title}" class="thumb">`;
    if(resumo) html += `<div class="resumo">${resumo}</div>`;
    container.innerHTML = html;
  }catch(e){
    console.warn(e); // mantém conteúdo
  }
}

async function loadList(feedKey, containerId, max=4){
  const container = document.getElementById(containerId);
  const loading = container.querySelector('.carregando-' + containerId.split('-')[0]) || null;
  if(loading) loading.style.display = 'inline';
  try{
    const data = await fetchJson(FEEDS[feedKey]);
    if(!data) return; // mantém conteúdo
    container.innerHTML = '';
    const items = data.items.slice(0,max);
    items.forEach(it =>{
      const title = stripHtml(it.title);
      const el = document.createElement('div');
      el.innerHTML = `<a href="${it.link}" class="titulo-mini">${title}</a>`;
      container.appendChild(el);
    });
  }catch(e){
    console.warn(e); // mantém conteúdo
  }
}

async function loadCards(feedKey, containerId, max=4){
  const container = document.getElementById(containerId + '-list');
  const loading = container.querySelector('.carregando-' + containerId.split('-')[1]) || null;
  if(loading) loading.style.display = 'inline';
  try{
    const data = await fetchJson(FEEDS[feedKey]);
    if(!data) return; // mantém conteúdo
    container.innerHTML = '';
    const items = data.items.slice(0,max);
    items.forEach(it =>{
      const title = stripHtml(it.title);
      const resumo = truncate(stripHtml(it.description), 0);
      const div = document.createElement('div');
      div.innerHTML = `<a href="${it.link}">${title}</a><p class="nota"></p>`;
      container.appendChild(div);
    });
  }catch(e){
    console.warn(e); // mantém conteúdo
  }
}

/* Carrega tudo */
function carregarTudo(){
  loadManchete();
  loadList('ultimas01','ultimas-list1',1);
  loadList('ultimas02','ultimas-list2',1);
  loadList('ultimas03','ultimas-list3',1);
  loadList('ultimas04','ultimas-list4',1);
  loadList('maisrogmacedo','maisrogmacedo-list',4);
  loadCards('politica','politica',4);
  loadCards('esportes','esportes',4);
  loadCards('mundo','mundo',4);
  loadCards('destaque','destaque',1);
}

carregarTudo();
// Atualiza a cada 2 minutos
setInterval(carregarTudo, 2*60*1000);



    
    /* Menu hamburguer simples para mobile */
   document.addEventListener("DOMContentLoaded", function(){
    const hamburger = document.querySelector(".hamburger");
    const menuLeft = document.querySelector(".menu-left");

    hamburger.addEventListener("click", function(){
        const isOpen = hamburger.getAttribute("aria-expanded") === "true";
        hamburger.setAttribute("aria-expanded", !isOpen);
        hamburger.textContent = isOpen ? "☰" : "✖"; // muda entre ☰ e X
        menuLeft.classList.toggle("show"); // mostra/esconde menu
    });
});





document.querySelectorAll('.dropdown > a').forEach(link => {
  link.addEventListener('click', function(e) {
    if (window.innerWidth <= 900) { // só no mobile
      e.preventDefault();
      const submenu = this.nextElementSibling;
      submenu.classList.toggle('open');
    }
  });
});






const toTopBtn = document.getElementById('toTop');

toTopBtn.addEventListener('click', () => {
  window.scrollTo({ top: 0, behavior: 'smooth' });
});



  </script>
</body>
</html>
